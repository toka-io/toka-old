"use strict";function ChatroomListApp(){this.sorted=!1,this.ini=function(t){var o=this;toka.setChatrooms(t);try{toka.socket=io.connect(toka.chata,{secure:!0}),toka.socket.on("connect",function(){console.log("Connection opened."),toka.socket.emit("activeViewerCount")}),toka.socket.on("activeViewerCount",function(t){for(var e in t)toka.chatrooms.hasOwnProperty(e)&&toka.chatrooms[e].updateChatroomItemUsers(t[e]);o.sorted||o.sort(),o.sorted=!0}),toka.socket.on("disconnect",function(){console.log("Connection closed.")})}catch(e){console.log("Could not connect to chata!")}},this.sort=function(){var t=$("#chatroom-list"),o=t.clone(),e=o.find("li"),n=e.sorted({reversed:!0,by:function(t){return parseFloat($(t).find(".chatroom-item-users-count").text())}});t.empty().append(n)}}$.fn.sorted=function(t){var o={reversed:!1,by:function(t){return t.text()}};$.extend(o,t);var e=$(this),n=e.get();return n.sort(function(t,e){var n=o.by($(t)),r=o.by($(e));return o.reversed?r>n?1:n>r?-1:0:r>n?-1:n>r?1:0}),$(n)};