"use strict";function ChatroomListApp(){this.sorted=!1,this.ini=function(o){var t=this;toka.setChatrooms(o);try{toka.socket=io.connect(toka.chata,{secure:!0}),toka.socket.on("connect",function(){console.log("Connection opened."),toka.socket.emit("activeViewerCount")}),toka.socket.on("activeViewerCount",function(o){for(var e in o)toka.chatrooms.hasOwnProperty(e)&&toka.chatrooms[e].updateChatroomItemUsers(o[e]);t.sorted||t.sort(),t.sorted=!0}),toka.socket.on("disconnect",function(){console.log("Connection closed.")})}catch(e){console.log("Could not connect to chata!")}},this.sort=function(){var o=$("#chatroom-list"),t=o.clone(),e=t.find("li"),n=e.sorted({reversed:!0,by:function(o){return parseFloat($(o).find(".chatroom-item-users-count").text())}});o.empty().append(n)}}