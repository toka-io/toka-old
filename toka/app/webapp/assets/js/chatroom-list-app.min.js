"use strict";$.fn.sorted=function(t){var o={reversed:false,by:function(t){return t.text()}};$.extend(o,t);var e=$(this);var n=e.get();n.sort(function(t,e){var n=o.by($(t));var r=o.by($(e));if(o.reversed){return n<r?1:n>r?-1:0}else{return n<r?-1:n>r?1:0}});return $(n)};function ChatroomListApp(){this.sorted=false;this.ini=function(t){var o=this;toka.setChatrooms(t);try{toka.socket=io.connect(toka.chata,{secure:true});toka.socket.on("connect",function(){console.log("Connection opened.");toka.socket.emit("activeViewerCount")});toka.socket.on("activeViewerCount",function(t){for(var e in t){if(toka.chatrooms.hasOwnProperty(e))toka.chatrooms[e].updateChatroomItemUsers(t[e])}if(!o.sorted){o.sort()}o.sorted=true});toka.socket.on("disconnect",function(){console.log("Connection closed.")})}catch(e){console.log("Could not connect to chata!")}};this.sort=function(){var t=$("#chatroom-list");var o=t.clone();var e=o.find("li");var n=e.sorted({reversed:true,by:function(t){return parseFloat($(t).find(".chatroom-item-users-count").text())}});t.empty().append(n)}}